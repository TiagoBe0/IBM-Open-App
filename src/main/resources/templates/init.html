<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Sistema Árbol/Rama/Hoja</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/chat.css">
    <link rel="stylesheet" href="css/claude.css">
    <link rel="stylesheet" href="css/amigos.css">
    <link rel="stylesheet" href="css/mensajes.css">
</head>
<body>
    <!-- Variables de Thymeleaf convertidas a JavaScript -->
    <script th:inline="javascript">
        /*<![CDATA[*/
        window.APP_CONFIG = {
            USUARIO_ID: /*[[${usuario.id}]]*/ 1,
            USUARIO_NOMBRE: /*[[${usuario.nombre}]]*/ 'Usuario',
            USUARIO_APELLIDO: /*[[${usuario.apellido}]]*/ '',
            USUARIO_USERNAME: /*[[${usuario.username}]]*/ 'usuario',
            API_URL: 'http://localhost:8081/api'
        };
        /*]]>*/
    </script>

    <div class="container">
        <!-- Encabezado -->
        <div id="header-container"></div>
        
        <!-- Estadísticas -->
        <div id="stats-container"></div>

        <!-- Pestañas de navegación -->
        <div class="tabs">
            <button class="tab active" data-tab="arboles">🌳 Árboles</button>
            <button class="tab" data-tab="ramas">🌿 Ramas</button>
            <button class="tab" data-tab="hojas">🍃 Hojas</button>
            <button class="tab" data-tab="tree">📊 Vista Jerárquica</button>
            <button class="tab" data-tab="amigos">👥 Amigos</button>
            <button class="tab" data-tab="mensajes">💬 Mensajes</button>
            <button class="tab" data-tab="config">⚙️ Mi Perfil</button>
        </div>

        <!-- Contenido de las pestañas -->
        <div id="content-container">
            <!-- Secciones se cargan dinámicamente -->
        </div>
    </div>

    <!-- Botones flotantes -->
    <div id="chat-toggle" class="chat-toggle" title="Chat en tiempo real">
        💬
        <span id="unread-count" class="unread-badge" style="display: none;">0</span>
    </div>
    
    <div id="claude-toggle" class="claude-toggle" title="Asistente Claude AI">
        🤖
        <span class="claude-badge">AI</span>
    </div>

    <!-- Modales -->
    <div id="modal-container"></div>
    
    <!-- Scripts externos -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.6.1/sockjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
    
    <!-- Scripts de la aplicación -->
    <script src="js/main.js"></script>
    <script src="js/arboles-ramas-hojas.js"></script>
    <script src="js/chat.js"></script>
    <script src="js/claude.js"></script>
    <script src="js/amigos.js"></script>
    <script src="js/mensajes.js"></script>
</body>
</html>